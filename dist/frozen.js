//>>built
(function(b,d){var h,g,i,j=function(){},k=function(p){for(var a in p)return 0;return 1},f={}.toString,n=function(p){return"[object Function]"==f.call(p)},a=function(p){return"[object String]"==f.call(p)},m=function(p){return"[object Array]"==f.call(p)},c=function(p,a){if(p)for(var c=0;c<p.length;)a(p[c++])},e=function(p,a){for(var c in a)p[c]=a[c];return p},l=function(a,c){return e(Error(a),{src:"dojoLoader",info:c})},s=1,v=function(){return"_"+s++},o=function(a,c,e){return ia(a,c,e,0,o)},C=this,
w=C.document,T=w&&w.createElement("DiV"),t=o.has=function(a){return n(q[a])?q[a]=q[a](C,w,T):q[a]},q=t.cache=d.hasCache;t.add=function(a,c,e,l){(void 0===q[a]||l)&&(q[a]=c);return e&&t(a)};for(var r in b.has)t.add(r,b.has[r],0,1);o.async=1;o.eval=function(){};var y={},x=o.signal=function(a,e){var l=y[a];c(l&&l.slice(0),function(a){a.apply(null,m(e)?e:[e])})},u=o.on=function(a,c){var e=y[a]||(y[a]=[]);e.push(c);return{remove:function(){for(var a=0;a<e.length;a++)if(e[a]===c){e.splice(a,1);break}}}},
ja=[],za={},ka=[],U={},la=o.map={},I=[],z={},V="",E={},J={};r={};var L=function(a){var c,e,l,b;for(c in J)e=J[c],(l=c.match(/^url\:(.+)/))?E["url:"+ma(l[1],a)]=e:"*now"==c?b=e:"*noref"!=c&&(l=K(c,a),E[l.mid]=E["url:"+l.url]=e);b&&b(W(a));J={}},na=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},X=function(a,c){c.splice(0,c.length);for(var e in a)c.push([e,a[e],RegExp("^"+na(e)+"(/|$)"),e.length]);c.sort(function(a,c){return c[3]-a[3]});return c},oa=function(a){var c=
a.name;c||(c=a,a={name:c});a=e({main:"main"},a);a.location=a.location?a.location:c;if(a.packageMap)la[c]=a.packageMap;if(!a.main.indexOf("./"))a.main=a.main.substring(2);U[c]=a},pa=[],G=function(p,l,b){for(var f in p){if("waitSeconds"==f)o.waitms=1E3*(p[f]||0);"cacheBust"==f&&(V=p[f]?a(p[f])?p[f]:(new Date).getTime()+"":"");if("baseUrl"==f||"combo"==f)o[f]=p[f];p[f]!==q&&(o.rawConfig[f]=p[f],"has"!=f&&t.add("config-"+f,p[f],0,l))}if(!o.baseUrl)o.baseUrl="./";/\/$/.test(o.baseUrl)||(o.baseUrl+="/");
for(f in p.has)t.add(f,p.has[f],0,l);c(p.packages,oa);for(i in p.packagePaths)c(p.packagePaths[i],function(c){var e=i+"/"+c;a(c)&&(c={name:c});c.location=e;oa(c)});X(e(la,p.map),I);c(I,function(a){a[1]=X(a[1],[]);if("*"==a[0])I.star=a});X(e(za,p.paths),ka);c(p.aliases,function(c){a(c[0])&&(c[0]=RegExp("^"+na(c[0])+"$"));ja.push(c)});if(l)pa.push({config:p.config});else for(f in p.config)l=D(f,b),l.config=e(l.config||{},p.config[f]);if(p.cache)L(),J=p.cache,p.cache["*noref"]&&L();x("config",[p,o.rawConfig])};
o.rawConfig={};G(d,1);G(b,1);G(r,1);var M=function(a){Y(function(){c(a.deps,qa)})},ia=function(c,b,f,g,i){var h;if(a(c)){if((h=D(c,g,!0))&&h.executed)return h.result;throw l("undefinedModule",c);}m(c)||(G(c,0,g),c=b,b=f);if(m(c))if(c.length){for(var f="require*"+v(),s,k=[],d=0;d<c.length;)s=c[d++],k.push(D(s,g));h=e(N("",f,0,""),{injected:2,deps:k,def:b||j,require:g?g.require:o,gc:1});z[h.mid]=h;M(h);var n=H&&0!="sync";Y(function(){Z(h,n)});h.executed||B.push(h);O()}else b&&b();return i},W=function(a){if(!a)return o;
var c=a.require;if(!c)c=function(e,l,b){return ia(e,l,b,a,c)},a.require=e(c,o),c.module=a,c.toUrl=function(c){return ma(c,a)},c.toAbsMid=function(c){return $(c,a)};return c},B=[],P=[],A={},Ba=function(a){a.injected=1;A[a.mid]=1;a.url&&(A[a.url]=a.pack||1);Aa()},Q=function(a){a.injected=2;delete A[a.mid];a.url&&delete A[a.url];k(A)&&Ca()},Da=o.idle=function(){return!P.length&&k(A)&&!B.length&&!H},aa=function(a,c){if(c)for(var e=0;e<c.length;e++)if(c[e][2].test(a))return c[e];return 0},ra=function(a){for(var c=
[],e,l,a=a.replace(/\\/g,"/").split("/");a.length;)e=a.shift(),".."==e&&c.length&&".."!=l?(c.pop(),l=c[c.length-1]):"."!=e&&c.push(l=e);return c.join("/")},N=function(a,c,e,l){return{pid:a,mid:c,pack:e,url:l,executed:0,def:0}},sa=function(a,e,b,f,j,g,i,s){var k,d,m,v;v=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||v&&!e)return N(0,a,0,a);a=ra(v?e.mid+"/../"+a:a);if(/^\./.test(a))throw l("irrationalPath",a);e&&(m=aa(e.mid,g));(m=(m=m||g.star)&&aa(a,m[1]))&&(a=m[1]+a.substring(m[3]));e=(h=a.match(/^([^\/]+)(\/(.+))?$/))?
h[1]:"";(k=b[e])?a=e+"/"+(d=h[3]||k.main):e="";var o=0;c(ja,function(c){var e=a.match(c[0]);e&&0<e.length&&(o=n(c[1])?a.replace(c[0],c[1]):c[1])});if(o)return sa(o,0,b,f,j,g,i,s);if(b=f[a])return s?N(b.pid,b.mid,b.pack,b.url):f[a];f=(m=aa(a,i))?m[1]+a.substring(m[3]):e?k.location+"/"+d:a;/(^\/)|(\:)/.test(f)||(f=j+f);return N(e,a,k,ra(f+".js"))},K=function(a,c){return sa(a,c,U,z,o.baseUrl,I,ka)},ta=function(a,c,e){return a.normalize?a.normalize(c,function(a){return $(a,e)}):$(c,e)},ua=0,D=function(a,
c,e){var l,b;(l=a.match(/^(.+?)\!(.*)$/))?(b=D(l[1],c,e),5===b.executed&&!b.load&&ba(b),b.load?(l=ta(b,l[2],c),a=b.mid+"!"+(b.dynamic?++ua+"!":"")+l):(l=l[2],a=b.mid+"!"+ ++ua+"!waitingForPlugin"),a={plugin:b,mid:a,req:W(c),prid:l}):a=K(a,c);return z[a.mid]||!e&&(z[a.mid]=a)},$=o.toAbsMid=function(a,c){return K(a,c).mid},ma=o.toUrl=function(a,c){var e=K(a+"/x",c),l=e.url;return va(0===e.pid?a:l.substring(0,l.length-5))},wa={injected:2,executed:5,def:3,result:3},F=function(a){return z[a]=e({mid:a},
wa)},Ea=F("require"),Fa=F("exports"),Ga=F("module"),R={},ca=0,ba=function(a){var c=a.result;a.dynamic=c.dynamic;a.normalize=c.normalize;a.load=c.load;return a},Ha=function(a){var l={};c(a.loadQ,function(c){var b=ta(a,c.prid,c.req.module),f=a.dynamic?c.mid.replace(/waitingForPlugin$/,b):a.mid+"!"+b,b=e(e({},c),{mid:f,prid:b,injected:0});z[f]||xa(z[f]=b);l[c.mid]=z[f];Q(c);delete z[c.mid]});a.loadQ=0;var b=function(a){for(var c=a.deps||[],e=0;e<c.length;e++)(a=l[c[e].mid])&&(c[e]=a)},f;for(f in z)b(z[f]);
c(B,b)},da=function(a){o.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=ca++;a.loadQ&&(ba(a),Ha(a));for(g=0;g<B.length;)B[g]===a?B.splice(g,1):g++;/^require\*/.test(a.mid)&&delete z[a.mid]},Ia=[],Z=function(a,c){if(4===a.executed)return o.trace("loader-circular-dependency",[Ia.concat(a.mid).join("->")]),!a.def||c?R:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return R;var e=a.mid,l=a.deps||[],b,f=[],j=0;for(a.executed=4;j<l.length;){b=l[j++];b=b===Ea?W(a):b===Fa?a.cjs.exports:b===Ga?
a.cjs:Z(b,c);if(b===R)return a.executed=0,o.trace("loader-exec-module",["abort",e]),R;f.push(b)}o.trace("loader-run-factory",[a.mid]);e=a.def;f=n(e)?e.apply(null,f):e;a.result=void 0===f&&a.cjs?a.cjs.exports:f;da(a)}return a.result},H=0,Y=function(a){try{H++,a()}finally{H--}Da()&&x("idle",[])},O=function(){H||Y(function(){for(var a,c,e=0;e<B.length;)a=ca,c=B[e],Z(c),a!=ca?e=0:e++})},va=function(a){a+="";return a+(V?(/\?/.test(a)?"&":"?")+V:"")},xa=function(a){var c=a.plugin;5===c.executed&&!c.load&&
ba(c);var e=function(c){a.result=c;Q(a);da(a);O()};c.load?c.load(a.prid,a.req,e):c.loadQ?c.loadQ.push(a):(c.loadQ=[a],B.unshift(c),qa(c))},S=0,ea=0,fa=0,Ja=function(a,c){t("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));fa=1;a===S?S.call(null):o.eval(a,c.mid);fa=0},qa=function(a){var c=a.mid,b=a.url;if(!a.executed&&!a.injected&&!(A[c]||a.url&&(a.pack&&A[a.url]===a.pack||1==A[a.url])))if(Ba(a),a.plugin)xa(a);else{var l=function(){Ka(a);2!==a.injected&&(Q(a),e(a,wa),o.trace("loader-define-nonmodule",
[a.url]));O()};(S=E[c]||E["url:"+a.url])?(o.trace("loader-inject",["cache",a.mid,b]),Ja(S,a),l()):(o.trace("loader-inject",["script",a.mid,b]),ea=a,o.injectUrl(va(b),l,a),ea=0)}},ga=function(a,c,b){o.trace("loader-define-module",[a.mid,c]);if(2===a.injected)return x("error",l("multipleDefine",a)),a;e(a,{deps:c,def:b,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(c){a.cjs.exports=c},config:function(){return a.config}}});for(var f=0;f<c.length;f++)c[f]=D(c[f],a);Q(a);if(!n(b)&&!c.length)a.result=
b,da(a);return a},Ka=function(a,e){for(var b=[],l,f;P.length;)f=P.shift(),e&&(f[0]=e.shift()),l=f[0]&&D(f[0])||a,b.push([l,f[1],f[2]]);L(a);c(b,function(a){M(ga.apply(null,a))})},Ca=j,Aa=j;t.add("ie-event-behavior",!!w.attachEvent&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var ha=function(a,c,e,b){if(t("ie-event-behavior"))return a.attachEvent(e,b),function(){a.detachEvent(e,b)};a.addEventListener(c,b,!1);return function(){a.removeEventListener(c,b,!1)}},La=ha(window,"load",
"onload",function(){o.pageLoaded=1;"complete"!=w.readyState&&(w.readyState="complete");La()}),ya=w.getElementsByTagName("script")[0],Ma=ya.parentNode;o.injectUrl=function(a,c,e){var e=e.node=w.createElement("script"),b=ha(e,"load","onreadystatechange",function(a){var a=a||window.event,e=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(e.readyState))b(),f(),c&&c()}),f=ha(e,"error","onerror",function(c){b();f();x("error",l("scriptError",[a,c]))});e.type="text/javascript";e.charset=
"utf-8";e.src=a;Ma.insertBefore(e,ya);return e};o.log=j;o.trace=j;F=function(c,e,b){var f=arguments.length,j=["require","exports","module"],g=[0,c,e];1==f?g=[0,n(c)?j:[],c]:2==f&&a(c)?g=[c,n(e)?j:[],e]:3==f&&(g=[c,e,b]);o.trace("loader-define",g.slice(0,2));if((f=g[0]&&D(g[0]))&&!A[f.mid])M(ga(f,g[1],g[2]));else if(!t("ie-event-behavior")||fa)P.push(g);else{f=f||ea;if(!f)for(c in A)if((j=z[c])&&j.node&&"interactive"===j.node.readyState){f=j;break}f?(L(f),M(ga(f,g[1],g[2]))):x("error",l("ieDefineFailed",
g[0]));O()}};F.amd={vendor:"dojotoolkit.org"};e(e(o,d.loaderPatch),b.loaderPatch);u("error",function(a){try{if(console.error(a),a instanceof Error)for(var c in a);}catch(e){}});e(o,{uid:v,cache:E,packs:U});if(!C.define)C.define=F,C.require=o,c(pa,function(a){G(a)}),u=r.deps||b.deps||d.deps,r=r.callback||b.callback||d.callback,o.boot=u||r?[u||[],r]:0})(this.dojoConfig||this.djConfig||this.require||{},{async:1,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,
dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dcl",main:"dcl",name:"dcl"},{location:"../frozen",main:"GameCore",name:"frozen"}]});
require({cache:{"dist/frozen":function(){define([],1)},"frozen/box2d/Box":function(){define(["dcl","dcl/bases/Mixer","dojo/_base/lang"],function(b,d,h){var g=Box2D.Common.Math.b2Vec2,i=Box2D.Dynamics.b2BodyDef,j=Box2D.Dynamics.b2Body,k=Box2D.Dynamics.b2FixtureDef,f=Box2D.Dynamics.b2World,n=Box2D.Collision.Shapes.b2PolygonShape,a=Box2D.Collision.Shapes.b2CircleShape,m=Box2D.Dynamics.Joints.b2RevoluteJointDef;return b(d,{intervalRate:60,adaptive:!1,width:640,height:480,scale:30,bodiesMap:[],fixturesMap:[],
world:null,gravityX:0,gravityY:10,allowSleep:!0,resolveCollisions:!1,contactListener:null,collisions:null,constructor:function(a){if(a.intervalRate)this.intervalRate=parseInt(a.intervalRate,10);this.world=new f(new g(this.gravityX,this.gravityY),this.allowSleep);this.resolveCollisions&&this.addContactListener(this.contactListener||this)},update:function(a){if(this.resolveCollisions)this.collisions={};var e=Date.now();a?this.world.Step(a/1E3,10,10):this.world.Step(this.adaptive?(e-this.lastTimestamp)/
1E3:1/this.intervalRate,10,10);this.world.ClearForces();return Date.now()-e},getState:function(){for(var a={},e=this.world.GetBodyList();e;e=e.m_next)if(e.IsActive()&&"undefined"!==typeof e.GetUserData()&&null!==e.GetUserData()&&(a[e.GetUserData()]={x:e.GetPosition().x,y:e.GetPosition().y,angle:e.GetAngle(),center:{x:e.GetWorldCenter().x,y:e.GetWorldCenter().y},linearVelocity:e.m_linearVelocity,angularVelocity:e.m_angularVelocity},this.resolveCollisions))a[e.GetUserData()].collisions=this.collisions[e.GetUserData()]||
null;return a},updateExternalState:function(a){var e=this.getState(),b;for(b in e){var f=a[b];f&&!f.staticBody&&f.update(e[b])}},setBodies:function(a){for(var e in a)this.addBody(a[e]);this.ready=!0},addBody:function(c){var e=new i,b=new k,f,h,d,m;b.restitution=c.restitution;b.density=c.density;b.friction=c.friction;e.type=c.staticBody?j.b2_staticBody:j.b2_dynamicBody;e.position.x=c.x;e.position.y=c.y;e.userData=c.id;e.angle=c.angle;e.linearDamping=c.linearDamping;e.angularDamping=c.angularDamping;
var w=this.world.CreateBody(e);if(c.radius)b.shape=new a(c.radius),w.CreateFixture(b);else if(c.points){h=[];for(e=0;e<c.points.length;e++)d=new g,d.Set(c.points[e].x,c.points[e].y),h[e]=d;b.shape=new n;b.shape.SetAsArray(h,h.length);w.CreateFixture(b)}else if(c.polys)for(f=0;f<c.polys.length;f++){h=c.polys[f];m=[];for(e=0;e<h.length;e++)d=new g,d.Set(h[e].x,h[e].y),m[e]=d;b.shape=new n;b.shape.SetAsArray(m,m.length);w.CreateFixture(b)}else b.shape=new n,b.shape.SetAsBox(c.halfWidth,c.halfHeight),
w.CreateFixture(b);this.bodiesMap[c.id]=w},setPosition:function(a,e,b){this.bodiesMap[a].SetPosition(new g(e,b))},setAngle:function(a,e){this.bodiesMap[a].SetAngle(e)},setLinearVelocity:function(a,e,b){this.bodiesMap[a].SetLinearVelocity(new g(e,b))},applyImpulseDegrees:function(a,e,b){a=this.bodiesMap[a];a.ApplyImpulse(new g(Math.sin(e*(Math.PI/180))*b,-1*Math.cos(e*(Math.PI/180))*b),a.GetWorldCenter())},applyForceDegrees:function(a,e,b){a=this.bodiesMap[a];a.ApplyForce(new g(Math.sin(e*(Math.PI/
180))*b,-1*Math.cos(e*(Math.PI/180))*b),a.GetWorldCenter())},applyImpulse:function(a,e,b){a=this.bodiesMap[a];a.ApplyImpulse(new g(Math.sin(e)*b,-1*Math.cos(e)*b),a.GetWorldCenter())},applyForce:function(a,e,b){a=this.bodiesMap[a];a.ApplyForce(new g(Math.sin(e)*b,-1*Math.cos(e)*b),a.GetWorldCenter())},applyTorque:function(a,e){this.bodiesMap[a].ApplyTorque(e)},removeBody:function(a){this.bodiesMap[a]&&(this.fixturesMap[a]&&this.bodiesMap[a].DestroyFixture(this.fixturesMap[a]),this.world.DestroyBody(this.bodiesMap[a]),
delete this.bodiesMap[a])},addContactListener:function(a){var e=new Box2D.Dynamics.b2ContactListener;if(a.beginContact)e.BeginContact=function(e){a.beginContact(e.GetFixtureA().GetBody().GetUserData(),e.GetFixtureB().GetBody().GetUserData())};if(a.EndContact)e.endContact=function(e){a.endContact(e.GetFixtureA().GetBody().GetUserData(),e.GetFixtureB().GetBody().GetUserData())};if(a.postSolve)e.PostSolve=function(e,b){a.postSolve(e.GetFixtureA().GetBody().GetUserData(),e.GetFixtureB().GetBody().GetUserData(),
b.normalImpulses[0])};this.world.SetContactListener(e)},addRevoluteJoint:function(a,e,b){var a=this.bodiesMap[a],e=this.bodiesMap[e],f=new m;f.Initialize(a,e,a.GetWorldCenter());b&&h.mixin(f,b);this.world.CreateJoint(f)},beginContact:function(){},endContact:function(){},postSolve:function(a,e,b){this.collisions[a]=this.collisions[a]||[];this.collisions[a].push({id:e,impulse:b});this.collisions[e]=this.collisions[e]||[];this.collisions[e].push({id:a,impulse:b})}})})},"dcl/dcl":function(){(function(b){"undefined"!=
typeof define?define(["./mini"],b):"undefined"!=typeof module?module.exports=b(require("./mini")):dcl=b(dcl)})(function(b){function d(){}function h(b,g,f){var h=b||d,a=g||d,i=f||d,c=function(){var c;h.apply(this,arguments);try{c=i.apply(this,arguments)}catch(b){c=b}a.call(this,arguments,c);if(c instanceof Error)throw c;return c};c.advices={b:b,a:g,f:f};return c}function g(j){return function(g,f){var h=g._m,a;h&&((a=+h.w[f]||0)&&a!=j&&b._e("set chaining",f,g,j,a),h.w[f]=j)}}var i=b(b.Super,{constructor:function(){this.b=
this.f.before;this.a=this.f.after;this.f=this.f.around}});b.mix(b,{Advice:i,advise:function(b){return new i(b)},before:function(b){return new i({before:b})},after:function(b){return new i({after:b})},around:b.superCall,chainBefore:g(1),chainAfter:g(2),isInstanceOf:function(b,g){if(b instanceof g)return!0;var f=b.constructor._m,h;if(f)for(f=f.b,h=f.length-1;0<=h;--h)if(f[h]===g)return!0;return!1},_sb:function(g,i,f,d){var d=d[f]=b._ec(i,f,"f"),a=b._ec(i,f,"b").reverse(),i=b._ec(i,f,"a"),d=g?b._st(d,
1==g?function(a){return b._sc(a.reverse())}:b._sc,f):b._ss(d,f);return!a.length&&!i.length?d||function(){}:h(b._sc(a),b._sc(i),d)}});return b})},"dcl/mini":function(){(function(b){"undefined"!=typeof define?define([],b):"undefined"!=typeof module?module.exports=b():dcl=b()})(function(){function b(a,c){var e=[0],f,d,k,m,t,q,r,y,x=0,u;if(a)if(a instanceof Array){m={};r=a.slice(0).reverse();for(y=r.length-1;0<=y;--y)if(d=r[y],d._u=d._u||g++,f=d._m){for(q=f.b,x=q.length-1;0<x;--x)u=q[x]._u,m[u]=(m[u]||
0)+1;r[y]=q.slice(0)}else r[y]=[d];t={};a:for(;r.length;){for(y=0;y<r.length;++y)if(q=r[y],d=q[0],u=d._u,!m[u]){t[u]||(e.push(d),t[u]=1);q.shift();q.length?--m[q[0]._u]:r.splice(y,1);continue a}b._e("cycle",c,r)}a=a[0];x=e.length-((m=a._m)&&a===e[e.length-(x=m.b.length)]?x:1)-1}else a._u=a._u||g++,e=e.concat((m=a._m)?m.b:a);f=a?b.delegate(a[j]):{};for(q=a&&(m=a._m)?b.delegate(m.w):{constructor:2};0<x;--x)if(d=e[x],m=d._m,n(f,m&&m.h||d[j]),m)for(u in r=m.w)q[u]=(+q[u]||0)|r[u];for(u in c)h(m=c[u])?
q[u]=+q[u]||0:f[u]=m;t={b:e,h:c,w:q,c:{}};e[0]={_m:t,prototype:f};d=f;m=t.w;q=t.b;r=t.c;for(k in m)d[k]=b._sb(m[k],q,k,r);k=f[i];k._m=t;k[j]=f;e[0]=k;return b._p(k)}function d(a){this.f=a}function h(a){return a instanceof d}var g=0,i="constructor",j="prototype",k=function(){},f={},n,a,m,c,e;(n=function(a,c){for(var e in c)a[e]=c[e]})(b,{mix:n,delegate:function(a){k[j]=a;a=new k;k[j]=null;return a},Super:d,superCall:function(a){return new d(a)},_p:function(a){return a},_e:function(a){throw Error("dcl: "+
a);},_f:function(a,c){var e=a.f(c);e.ctr=a.ctr;return e},_ec:a=function(a,c,e){for(var b=a.length-1,g=[],d,i,k="f"==e;d=a[b];--b)if((i=d._m)?(i=i.h).hasOwnProperty(c)&&(h(i=i[c])?k?i.f:i=i[e]:k):k&&(i=d[j][c])&&i!==f[c])i.ctr=d,g.push(i);return g},_sc:c=function(a){var c=a.length,e;return!c?0:1==c?(e=a[0],function(){e.apply(this,arguments)}):function(){for(var e=0;e<c;++e)a[e].apply(this,arguments)}},_ss:m=function(a,c){for(var e=0,g,d=f[c];g=a[e];++e)d=h(g)?a[e]=b._f(g,d,c):g;return c!=i?d:function(){d.apply(this,
arguments)}},_st:e=function(a,c,e){for(var f=0,g,d,j=0;g=a[f];++f)h(g)&&(d=f-j,a[f]=b._f(g,!d?0:1==d?a[j]:c(a.slice(j,f)),e),j=f);d=f-j;return!d?0:1==d&&e!=i?a[j]:c(j?a.slice(j):a)},_sb:function(b,f,g,d){f=d[g]=a(f,g,"f");return(b?e(f,c,g):m(f,g))||function(){}}});return b})},"dcl/bases/Mixer":function(){(function(b){"undefined"!=typeof define?define(["../mini"],b):"undefined"!=typeof module?module.exports=b(require("../mini")):dclBasesMixer=b(dcl)})(function(b){return b(null,{declaredClass:"dcl/bases/Mixer",
constructor:function(d){b.mix(this,d)}})})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(b,d){d.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var h=d("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],g=h.length,i=function(a,f,c){var e,g=0,d=b.global;if(!c)if(a.length){e=a[g++];try{c=b.scopeMap[e]&&b.scopeMap[e][1]}catch(h){}c=c||(e in d?
d[e]:f?d[e]={}:void 0)}else return d;for(;c&&(e=a[g++]);)c=e in c?c[e]:f?c[e]={}:void 0;return c},j=Object.prototype.toString,k=function(a,b,c){return(c||[]).concat(Array.prototype.slice.call(a,b||0))},f=/\{([^\}]+)\}/g,n={_extraNames:h,_mixin:function(a,b,c){var e,f,i,j={};for(e in b)if(f=b[e],!(e in a)||a[e]!==f&&(!(e in j)||j[e]!==f))a[e]=c?c(f):f;if(d("bug-for-in-skips-shadowed")&&b)for(i=0;i<g;++i)if(e=h[i],f=b[e],!(e in a)||a[e]!==f&&(!(e in j)||j[e]!==f))a[e]=c?c(f):f;return a},mixin:function(a,
b){a||(a={});for(var c=1,e=arguments.length;c<e;c++)n._mixin(a,arguments[c]);return a},setObject:function(a,b,c){var e=a.split("."),a=e.pop();return(c=i(e,!0,c))&&a?c[a]=b:void 0},getObject:function(a,b,c){return i(a.split("."),b,c)},exists:function(a,b){return void 0!==n.getObject(a,!1,b)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===j.call(a)},isObject:function(a){return void 0!==
a&&(null===a||"object"==typeof a||n.isArray(a)||n.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!n.isString(a)&&!n.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(n.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!n.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(""+a)},extend:function(a,b){for(var c=1,e=arguments.length;c<e;c++)n._mixin(a.prototype,arguments[c]);return a},_hitchArgs:function(a,f){var c=n._toArray(arguments,2),e=n.isString(f);return function(){var g=
n._toArray(arguments),d=e?(a||b.global)[f]:f;return d&&d.apply(a||this,c.concat(g))}},hitch:function(a,f){if(2<arguments.length)return n._hitchArgs.apply(b,arguments);f||(f=a,a=null);if(n.isString(f)){a=a||b.global;if(!a[f])throw['lang.hitch: scope["',f,'"] is null (scope="',a,'")'].join("");return function(){return a[f].apply(a,arguments||[])}}return!a?f:function(){return f.apply(a,arguments||[])}},delegate:function(){function a(){}return function(b,c){a.prototype=b;var e=new a;a.prototype=null;
c&&n._mixin(e,c);return e}}(),_toArray:d("ie")?function(){function a(a,c,e){e=e||[];for(c=c||0;c<a.length;c++)e.push(a[c]);return e}return function(b){return(b.item?a:k).apply(this,arguments)}}():k,partial:function(a){return n.hitch.apply(b,[null].concat(n._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||n.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var b,c,
e;if(n.isArray(a)){b=[];for(c=0,e=a.length;c<e;++c)c in a&&b.push(n.clone(a[c]))}else b=a.constructor?new a.constructor:{};return n._mixin(b,a,n.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,b,c){return a.replace(c||f,n.isFunction(b)?b:function(a,c){return n.getObject(c,!1,b)})}};n.mixin(b,n);return n})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(b,d,h,
g){var i,b={},j={},k={config:d,global:this,dijit:b,dojox:j},b={dojo:["dojo",k],dijit:["dijit",b],dojox:["dojox",j]},g=h.map&&h.map[g.id.match(/[^\/]+/)[0]];for(i in g)b[i]?b[i][0]=g[i]:b[i]=[g[i],{}];for(i in b)g=b[i],g[1]._scopeName=g[0],d.noGlobals||(this[g[0]]=g[1]);k.scopeMap=b;k.baseUrl=k.config.baseUrl=h.baseUrl;k.isAsync=h.async;k.locale=d.locale;d="$Rev: 30226 $".match(/\d+/);k.version={major:1,minor:8,patch:3,flag:"",revision:d?+d[0]:NaN,toString:function(){var b=k.version;return b.major+
"."+b.minor+"."+b.patch+b.flag+" ("+b.revision+")"}};k.exit=function(){};k.deprecated=k.experimental=function(){};k._hasResource={};return k})},"dojo/has":function(){define(["require","module"],function(b){var d=b.has||function(){};d.add("dom-addeventlistener",!!document.addEventListener);d.add("touch","ontouchstart"in document);d.add("device-width",screen.availWidth||innerWidth);b=document.createElement("form");d.add("dom-attributes-explicit",0==b.attributes.length);d.add("dom-attributes-specified-flag",
0<b.attributes.length&&40>b.attributes.length);d.clearElement=function(b){b.innerHTML="";return b};d.normalize=function(b,g){var i=b.match(/[\?:]|[^:\?]*/g),j=0,k=function(b){var g=i[j++];if(":"==g)return 0;if("?"==i[j++]){if(!b&&d(g))return k();k(!0);return k(b)}return g||0};return(b=k())&&g(b)};d.load=function(b,g,d){b?g([b],d):d()};return d})},"dojo/_base/config":function(){define(["../has","require"],function(b,d){var h={},g=d.rawConfig,i;for(i in g)h[i]=g[i];return h})},"dojo/sniff":function(){define("dojo/sniff",
["./has"],function(b){var d=navigator,h=d.userAgent,d=d.appVersion,g=parseFloat(d);b.add("air",0<=h.indexOf("AdobeAIR"));b.add("khtml",0<=d.indexOf("Konqueror")?g:void 0);b.add("webkit",parseFloat(h.split("WebKit/")[1])||void 0);b.add("chrome",parseFloat(h.split("Chrome/")[1])||void 0);b.add("safari",0<=d.indexOf("Safari")&&!b("chrome")?parseFloat(d.split("Version/")[1]):void 0);b.add("mac",0<=d.indexOf("Macintosh"));b.add("quirks","BackCompat"==document.compatMode);b.add("ios",/iPhone|iPod|iPad/.test(h));
b.add("android",parseFloat(h.split("Android ")[1])||void 0);if(!b("webkit")){0<=h.indexOf("Opera")&&b.add("opera",9.8<=g?parseFloat(h.split("Version/")[1])||g:g);0<=h.indexOf("Gecko")&&!b("khtml")&&!b("webkit")&&b.add("mozilla",g);b("mozilla")&&b.add("ff",parseFloat(h.split("Firefox/")[1]||h.split("Minefield/")[1])||void 0);if(document.all&&!b("opera"))h=parseFloat(d.split("MSIE ")[1])||void 0,(d=document.documentMode)&&5!=d&&Math.floor(h)!=d&&(h=d),b.add("ie",h);b.add("wii","undefined"!=typeof opera&&
opera.wiiremote)}return b})},"frozen/box2d/CircleEntity":function(){define(["dcl","dcl/bases/Mixer","./Entity"],function(b,d,h){return b([d,h],{radius:1,draw:b.superCall(function(b){return function(d,j){d.fillStyle=this.color;d.beginPath();d.arc(this.x*j,this.y*j,this.radius*j,0,2*Math.PI,!0);d.closePath();d.fill();d.strokeStyle="#000000";d.beginPath();d.arc(this.x*j,this.y*j,this.radius*j,0,2*Math.PI,!0);d.closePath();d.stroke();b.apply(this,[d,j])}}),scaleShape:b.superCall(function(b){return function(d){this.radius*=
d;b.apply(this,[d])}})})})},"frozen/box2d/Entity":function(){define(["dcl","dcl/bases/Mixer","dojo/_base/lang"],function(b,d,h){return b(d,{id:0,x:0,y:0,angle:0,center:0,restitution:0.3,density:1,friction:0.9,linearDamping:0,linearVelocity:null,angularVelocity:0,angularDamping:0,staticBody:!1,color:"rgba(128,128,128,0.5)",hidden:!1,update:function(b){h.mixin(this,b)},draw:function(b,d){b.fillStyle="black";b.beginPath();b.arc(this.x*d,this.y*d,4,0,2*Math.PI,!0);b.closePath();b.fill();b.fillStyle="yellow";
b.beginPath();b.arc(this.center.x*d,this.center.y*d,2,0,2*Math.PI,!0);b.closePath();b.fill()},scaleShape:function(b){this.x*=b;this.y*=b}})})},"frozen/box2d/PolygonEntity":function(){define(["dcl","dcl/bases/Mixer","./Entity","../utils"],function(b,d,h,g){return b([d,h],{points:[],draw:b.superCall(function(b){return function(d,g){d.save();d.translate(this.x*g,this.y*g);d.rotate(this.angle);d.translate(-this.x*g,-this.y*g);d.fillStyle=this.color;d.beginPath();d.moveTo((this.x+this.points[0].x)*g,(this.y+
this.points[0].y)*g);for(var f=1;f<this.points.length;f++)d.lineTo((this.points[f].x+this.x)*g,(this.points[f].y+this.y)*g);d.lineTo((this.x+this.points[0].x)*g,(this.y+this.points[0].y)*g);d.closePath();d.fill();d.stroke();d.restore();b.apply(this,[d,g])}}),scaleShape:b.superCall(function(b){return function(d){this.points=g.scalePoints(this.points,d);b.apply(this,[d])}})})})},"frozen/utils":function(){define("./utils/degreesToRadians,./utils/radiansToDegrees,./utils/pointInPolygon,./utils/distance,./utils/degreesFromCenter,./utils/radiansFromCenter,./utils/scalePoints,./utils/translatePoints".split(","),
function(b,d,h,g,i,j,k,f){return{degreesToRadians:b,radiansToDegrees:d,pointInPolygon:h,distance:g,degreesFromCenter:i,radiansFromCenter:j,scalePoints:k,translatePoints:f}})},"frozen/utils/degreesToRadians":function(){define(function(){var b=Math.PI/180;return function(d){return d*b}})},"frozen/utils/radiansToDegrees":function(){define(function(){var b=180/Math.PI;return function(d){return d*b}})},"frozen/utils/pointInPolygon":function(){define(function(){return function(b,d){for(var h=d.points||
d,g=!1,i=-1,j=h.length,k=j-1;++i<j;k=i)(h[i].y<=b.y&&b.y<h[k].y||h[k].y<=b.y&&b.y<h[i].y)&&b.x<(h[k].x-h[i].x)*(b.y-h[i].y)/(h[k].y-h[i].y)+h[i].x&&(g=!g);return g}})},"frozen/utils/distance":function(){define(function(){return function(b,d){return Math.sqrt((d.x-b.x)*(d.x-b.x)+(d.y-b.y)*(d.y-b.y))}})},"frozen/utils/degreesFromCenter":function(){define(["./radiansToDegrees","./radiansFromCenter"],function(b,d){return function(h,g){return b(d(h,g))}})},"frozen/utils/radiansFromCenter":function(){define(function(){var b=
{x:0,y:0};return function(d,h){d=d||b;return d.x===h.x&&d.y===h.y?0:d.x===h.x?d.y>h.y?0:Math.PI:d.y===h.y?d.x>h.x?1.5*Math.PI:Math.PI/2:d.x<h.x&&d.y>h.y?Math.atan((h.x-d.x)/(d.y-h.y)):d.x<h.x&&d.y<h.y?Math.PI/2+Math.atan((h.y-d.y)/(h.x-d.x)):d.x>h.x&&d.y<h.y?Math.PI+Math.atan((d.x-h.x)/(h.y-d.y)):1.5*Math.PI+Math.atan((d.y-h.y)/(d.x-h.x))}})},"frozen/utils/scalePoints":function(){define(["dojo/_base/lang"],function(b){var d=function(h,g){if(b.isArray(h)){var i=[];h.forEach(function(b){i.push(d(b,
g))});h=i}else h="object"===typeof g?{x:h.x*g.x,y:h.y*g.y}:{x:h.x*g,y:h.y*g};return h};return d})},"frozen/utils/translatePoints":function(){define(["dojo/_base/lang"],function(b){var d=function(h,g){if(b.isArray(h)){var i=[];h.forEach(function(b){i.push(d(b,g))});h=i}else h={x:h.x,y:h.y},g.hasOwnProperty("x")&&(h.x+=g.x),g.hasOwnProperty("y")&&(h.y+=g.y);return h};return d})},"frozen/box2d/MultiPolygonEntity":function(){define(["dcl","dcl/bases/Mixer","./Entity","../utils"],function(b,d,h,g){return b([d,
h],{polys:[],draw:b.superCall(function(b){return function(d,g){d.save();d.translate(this.x*g,this.y*g);d.rotate(this.angle);d.translate(-this.x*g,-this.y*g);d.fillStyle=this.color;for(var f=0;f<this.polys.length;f++){d.beginPath();d.moveTo((this.x+this.polys[f][0].x)*g,(this.y+this.polys[f][0].y)*g);for(var h=1;h<this.polys[f].length;h++)d.lineTo((this.polys[f][h].x+this.x)*g,(this.polys[f][h].y+this.y)*g);d.lineTo((this.x+this.polys[f][0].x)*g,(this.y+this.polys[f][0].y)*g);d.closePath();d.fill();
d.stroke()}d.restore();b.apply(this,[d,g])}}),scaleShape:b.superCall(function(b){return function(d){this.polys=g.scalePoints(this.polys,d);b.apply(this,[d])}})})})},"frozen/box2d/RectangleEntity":function(){define(["dcl","dcl/bases/Mixer","./Entity"],function(b,d,h){return b([d,h],{halfWidth:1,halfHeight:1,draw:b.superCall(function(b){return function(d,h){d.save();d.translate(this.x*h,this.y*h);d.rotate(this.angle);d.translate(-this.x*h,-this.y*h);d.fillStyle=this.color;d.fillRect((this.x-this.halfWidth)*
h,(this.y-this.halfHeight)*h,2*this.halfWidth*h,2*this.halfHeight*h);d.restore();b.apply(this,[d,h])}}),scaleShape:b.superCall(function(b){return function(d){this.halfHeight*=d;this.halfWidth*=d;b.apply(this,[d])}})})})},"frozen/reiner/Creature":function(){define(["dcl","dcl/bases/Mixer","dojo/_base/lang","../Sprite","../Animation"],function(b,d,h,g,i){return b([d,g],{statics:{EAST:0,NORTH:1,NORTHEAST:2,NORTHWEST:3,SOUTH:4,SOUTHEAST:5,SOUTHWEST:6,WEST:7,STATE_WALKING:0,STATE_DYING:1,STATE_IDLE:2},
state:0,walkingAnims:[],dyingAnims:[],idleAnims:[],direction:0,constructor:function(){this.state=this.statics.STATE_IDLE;this.direction=this.statics.EAST},update:function(b){this.x+=this.dx*b;this.y+=this.dy*b;if(this.state!==this.statics.STATE_DYING){if(0<this.dx&&0===this.dy)this.direction=this.statics.EAST;else if(0===this.dx&&0>this.dy)this.direction=this.statics.NORTH;else if(0<this.dx&&0>this.dy)this.direction=this.statics.NORTHEAST;else if(0>this.dx&&0>this.dy)this.direction=this.statics.NORTHWEST;
else if(0===this.dx&&0<this.dy)this.direction=this.statics.SOUTH;else if(0<this.dx&&0<this.dy)this.direction=this.statics.SOUTHEAST;else if(0>this.dx&&0<this.dy)this.direction=this.statics.SOUTHWEST;else if(0>this.dx&&0===this.dy)this.direction=this.statics.WEST;this.state=0===this.dx&&0===this.dy?this.statics.STATE_IDLE:this.statics.STATE_WALKING}this.anim=this.state===this.statics.STATE_WALKING?this.walkingAnims[this.direction]:this.state===this.statics.STATE_DYING?this.dyingAnims[this.direction]:
this.idleAnims[this.direction];this.anim.update(b)},createAnimations:function(b,d,f,g,a,m){var c=[],e=h.isArray(d),l=1;m||(m=0);for(var s=0;8>s;s++){c[s]=new i({height:g,width:a,image:f});for(var v=0;v<b;v++)l=e?d[v]:d,c[s].addFrame(l,v+b*s,m)}return c}})})},"frozen/Sprite":function(){define(["dcl","dcl/bases/Mixer"],function(b,d){var h=b(d,{x:0,y:0,dx:0,dy:0,name:null,collisionRadius:40,update:function(b){this.x+=this.dx*b;this.y+=this.dy*b;this.anim.update(b)},getX:function(){return this.x},getY:function(){return this.y},
setX:function(b){this.x=b},setY:function(b){this.y=b},getWidth:function(){return this.anim.width},getHeight:function(){return this.anim.height},getVelocityX:function(){return this.dx},getVelocityY:function(){return this.dy},setVelocityX:function(b){this.dx=this.limitSpeed(b)},setVelocityY:function(b){this.dy=this.limitSpeed(b)},limitSpeed:function(b){return this.getMaxSpeed()?Math.abs(b)>this.getMaxSpeed()?0<b?this.getMaxSpeed():0>b?this.getMaxSpeed():0:b:b},getMaxSpeed:function(){return this.maxSpeed},
getCurrentFrame:function(){if(this.anim)return this.anim.getCurrentFrame()},drawCurrentFrame:function(b){var d=this.anim.getCurrentFrame();b.drawImage(this.anim.image,d.imgSlotX*this.anim.width,d.imgSlotY*this.anim.height,this.anim.width,this.anim.height,this.x,this.y,this.anim.width,this.anim.height)},draw:function(b){this.anim&&this.anim.draw(b,this.x,this.y)},clone:function(){return new h({anim:this.anim.clone()})}});return h})},"frozen/Animation":function(){define(["./AnimFrame","dcl","dcl/bases/Mixer",
"dojo/_base/lang"],function(b,d,h,g){var i=d(h,{currFrameIndex:0,animTime:0,totalDuration:0,height:64,width:64,image:null,constructor:function(){this.start()},createFromTile:function(b,d,f,g,a,h){return this.createFromSheet(b,d,f,a,g,h)},createFromSheet:function(b,d,f,h,a,m){f=new i({image:f,height:a,width:h});h=g.isArray(d);a=1;m||(m=0);for(var c=0;c<b;c++)a=h?d[c]:d,f.addFrame(a,c,m);return f},clone:function(){return new i({image:this.image,frames:this.frames,totalDuration:this.totalDuration})},
addFrame:function(d,g,f){if(!this.frames)this.frames=[];this.totalDuration+=d;this.frames.push(new b({endTime:this.totalDuration,image:this.image,imgSlotX:g,imgSlotY:f}))},start:function(){this.currFrameIndex=this.animTime=0},update:function(b){if(1<this.frames.length){this.animTime+=b;if(this.animTime>=this.totalDuration)this.animTime%=this.totalDuration,this.currFrameIndex=0;for(;this.animTime>this.getFrame(this.currFrameIndex).endTime;)this.currFrameIndex++}},getImage:function(){return this.image},
getFrame:function(b){return this.frames[b]},getCurrentFrame:function(){return 0===this.frames.length?null:this.getFrame(this.currFrameIndex)},draw:function(b,d,f){var g=this.getCurrentFrame();b.drawImage(this.image,g.imgSlotX*this.width,g.imgSlotY*this.height,this.width,this.height,d,f,this.width,this.height)}});return i})},"frozen/AnimFrame":function(){define(["dcl","dcl/bases/Mixer"],function(b,d){return b(d,{endTime:0,imgSlotX:0,imgSlotY:0,image:null})})},"frozen/GameAction":function(){define(["dcl",
"dcl/bases/Mixer"],function(b,d){return b(d,{name:null,behavior:0,amount:0,state:0,statics:{NORMAL:0,DETECT_INITAL_PRESS_ONLY:1,STATE_RELEASED:0,STATE_PRESSED:1,STATE_WAITING_FOR_RELEASE:2,STATE_MOVED:3},constructor:function(){this.reset()},getName:function(){return this.name},reset:function(){this.state=this.statics.STATE_RELEASED;this.amount=0},tap:function(){this.press();this.release()},press:function(){this.state=this.statics.STATE_PRESSED;this.behavior===this.statics.DETECT_INITAL_PRESS_ONLY&&
this.pressAmt(1)},pressAmt:function(b){if(this.state!==this.statics.STATE_WAITING_FOR_RELEASE)this.amount+=b,this.state=this.statics.STATE_WAITING_FOR_RELEASE},release:function(){this.state=this.statics.STATE_RELEASED},isPressed:function(){return this.state===this.statics.STATE_PRESSED?!0:!1},getAmount:function(){var b=this.amount;if(0!==b)if(this.state===this.statics.STATE_RELEASED)this.amount=0;else if(this.behavior===this.statics.DETECT_INITAL_PRESS_ONLY)this.state=this.statics.STATE_WAITING_FOR_RELEASE,
this.amount=0;return b}})})},"frozen/MouseAction":function(){define(["dcl","dcl/bases/Mixer","./GameAction"],function(b,d,h){return b([d,h],{startPosition:null,endPosition:null,position:null})})},"frozen/GameCore":function(){define("dcl,dcl/bases/Mixer,dojo/_base/lang,dojo/dom,./InputManager,./ResourceManager,./shims/RAF".split(","),function(b,d,h,g,i,j){return b(d,{statics:{FONT_SIZE:24},isRunning:!1,canvasId:null,maxStep:40,contextType:"2d",height:0,width:0,resourceManager:null,inputManager:null,
loadingForeground:"#00F",loadingBackground:"#FFF",gameAreaId:null,canvasPercentage:0,stop:function(){this.isRunning=!1},run:function(){this.isRunning||(this.init(),this.loadResources(this.resourceManager),this.initInput(this.inputManager),this.launchLoop())},loadResources:function(){},init:function(){if(!this.canvas)this.canvas=g.byId(this.canvasId);if(this.canvas){if(!this.context)this.context=this.canvas.getContext(this.contextType);if(this.context){this.height?this.canvas.height=this.height:this.height=
this.canvas.height;this.width?this.canvas.width=this.width:this.width=this.canvas.width;if(!this.inputManager)this.inputManager=this.gameAreaId&&this.canvasPercentage?new i({canvas:this.canvas,gameArea:g.byId(this.gameAreaId),canvasPercentage:this.canvasPercentage}):new i({canvas:this.canvas});this.inputManager.resize();if(!this.resourceManager)this.resourceManager=new j;this.loadResources(this.resourceManager);this.isRunning=!0}else alert("Sorry, your browser does not support a "+this.contextType+
" drawing surface on canvas.  I recommend any browser but Internet Explorer")}else alert("Sorry, your browser does not support canvas.  I recommend any browser but Internet Explorer")},initInput:function(){},handleInput:function(){},gameLoop:function(){this.currTime=(new Date).getTime();this.elapsedTime=Math.min(this.currTime-this.prevTime,this.maxStep);this.prevTime=this.currTime;this.resourceManager&&!this.resourceManager.resourcesReady()?(this.updateLoadingScreen(this.elapsedTime),this.drawLoadingScreen(this.context)):
(this.handleInput(this.inputManager,this.elapsedTime),this.paused||this.update(this.elapsedTime),this.context.save(),this.draw(this.context),this.context.restore())},launchLoop:function(){this.elapsedTime=0;var b=Date.now();this.prevTime=this.currTime=b;this.loopRunner=h.hitch(this,this.loopRunner);window.requestAnimationFrame(this.loopRunner)},loopRunner:function(){this.gameLoop();window.requestAnimationFrame(this.loopRunner)},update:function(){},updateLoadingScreen:function(){},draw:function(b){if("2d"===
this.contextType)b.font="14px sans-serif",b.fillText("This game does not have its own draw function!",10,50)},drawLoadingScreen:function(b){if(this.resourceManager&&"2d"===this.contextType)b.fillStyle=this.loadingBackground,b.fillRect(0,0,this.width,this.height),b.fillStyle=this.loadingForeground,b.strokeStyle=this.loadingForeground,b.font="bold "+Math.floor(this.height/12)+"px sans-serif",b.fillText("Loading... "+this.resourceManager.getPercentComplete()+"%",0.1*this.width,0.55*this.height),b.strokeRect(0.1*
this.width,0.7*this.height,0.8*this.width,0.1*this.height),b.fillRect(0.1*this.width,0.7*this.height,0.8*this.width*this.resourceManager.getPercentComplete()/100,0.1*this.height),b.lineWidth=4}})})},"dojo/dom":function(){define("dojo/dom",["./sniff","./_base/window"],function(b,d){if(7>=b("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(h){}var g={};g.byId=b("ie")?function(b,g){if("string"!=typeof b)return b;var f=g||d.doc,h=b&&f.getElementById(b);if(h&&(h.attributes.id.value==b||
h.id==b))return h;f=f.all[b];if(!f||f.nodeName)f=[f];for(var a=0;h=f[a++];)if(h.attributes&&h.attributes.id&&h.attributes.id.value==b||h.id==b)return h}:function(b,g){return("string"==typeof b?(g||d.doc).getElementById(b):b)||null};g.isDescendant=function(b,d){try{b=g.byId(b);for(d=g.byId(d);b;){if(b==d)return!0;b=b.parentNode}}catch(f){}return!1};b.add("css-user-select",function(b,d,f){if(!f)return!1;var b=f.style,d=["Khtml","O","ms","Moz","Webkit"],f=d.length,g="userSelect";do if("undefined"!==
typeof b[g])return g;while(f--&&(g=d[f]+"UserSelect"));return!1});var i=b("css-user-select");g.setSelectable=i?function(b,d){g.byId(b).style[i]=d?"":"none"}:function(b,d){var b=g.byId(b),f=b.getElementsByTagName("*"),h=f.length;if(d)for(b.removeAttribute("unselectable");h--;)f[h].removeAttribute("unselectable");else for(b.setAttribute("unselectable","on");h--;)f[h].setAttribute("unselectable","on")};return g})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(b,d,h){var g=
{global:b.global,doc:this.document||null,body:function(d){d=d||b.doc;return d.body||d.getElementsByTagName("body")[0]},setContext:function(d,h){b.global=g.global=d;b.doc=g.doc=h},withGlobal:function(d,h,k,f){var n=b.global;try{return b.global=g.global=d,g.withDoc.call(null,d.document,h,k,f)}finally{b.global=g.global=n}},withDoc:function(d,j,k,f){var n=g.doc,a=h("quirks"),m=h("ie"),c,e,l;try{b.doc=g.doc=d;b.isQuirks=h.add("quirks","BackCompat"==b.doc.compatMode,!0,!0);if(h("ie")&&(l=d.parentWindow)&&
l.navigator)c=parseFloat(l.navigator.appVersion.split("MSIE ")[1])||void 0,(e=d.documentMode)&&5!=e&&Math.floor(c)!=e&&(c=e),b.isIE=h.add("ie",c,!0,!0);k&&"string"==typeof j&&(j=k[j]);return j.apply(k,f||[])}finally{b.doc=g.doc=n,b.isQuirks=h.add("quirks",a,!0,!0),b.isIE=h.add("ie",m,!0,!0)}}};d.mixin(b,g);return g})},"frozen/InputManager":function(){define("./GameAction,./MouseAction,dcl,dcl/bases/Mixer,dojo/on,dojo/dom-geometry,dojo/_base/lang,dojo/domReady!".split(","),function(b,d,h,g,i,j,k){return h(g,
{keyActions:[],mouseAction:null,touchAction:null,canvas:null,handleMouse:!0,handleTouch:!0,handleKeys:!0,gameArea:null,canvasPercentage:null,constructor:function(){this.handleKeys&&(i(document,"keydown",k.hitch(this,"keyDown")),i(document,"keyup",k.hitch(this,"keyReleased")));this.handleMouse&&(i(this.canvas,"mousedown",k.hitch(this,"mouseDown")),i(document,"mouseup",k.hitch(this,"mouseUp")),i(this.canvas,"mousemove",k.hitch(this,"mouseMove")));this.handleTouch&&(i(document,"touchend",k.hitch(this,
"touchEnd")),i(this.canvas,"touchstart",k.hitch(this,"touchStart")),i(this.canvas,"touchmove",k.hitch(this,"touchMove")));if(!this.mouseAction)this.mouseAction=new d;if(!this.touchAction)this.touchAction=new d;this.gameArea&&this.canvasPercentage&&(window.addEventListener("resize",k.hitch(this,"resize"),!1),window.addEventListener("orientationchange",k.hitch(this,"resize"),!1))},mapToKey:function(b,d){if(!this.keyActions)this.keyActions=[];this.keyActions[d]=b},addKeyAction:function(d,g){var a=new b;
if(g)a.behavior=a.statics.DETECT_INITAL_PRESS_ONLY;this.mapToKey(a,d);return a},setMouseAction:function(b){this.mouseAction=b},setTouchAction:function(b){this.touchAction=b},mouseUp:function(b){this.mouseAction.release();this.mouseAction.endPosition=this.getMouseLoc(b)},mouseDown:function(b){this.mouseAction.press();this.mouseAction.startPosition=this.getMouseLoc(b);this.mouseAction.position=this.mouseAction.startPosition},mouseMove:function(b){this.mouseAction.position=this.getMouseLoc(b)},touchStart:function(b){this.touchAction.press();
this.touchAction.startPosition=this.getMouseLoc(b.changedTouches[0]);this.touchAction.position=this.touchAction.startPosition},touchEnd:function(b){this.touchAction.release();this.mouseAction.endPosition=this.getMouseLoc(b)},touchMove:function(b){this.touchAction.position=this.getMouseLoc(b.changedTouches[0]);b.preventDefault()},getKeyAction:function(b){return this.keyActions.length?this.keyActions[b.keyCode]||this.keyActions[String.fromCharCode(b.keyCode)]:null},keyPressed:function(b){(b=this.getKeyAction(b))&&
!b.isPressed()&&b.press()},keyDown:function(b){(b=this.getKeyAction(b))&&!b.isPressed()&&b.press()},keyReleased:function(b){(b=this.getKeyAction(b))&&b.release()},getMouseLoc:function(b){var d=j.position(this.canvas);return this.zoomRatio?{x:Math.round((b.clientX-d.x)/this.zoomRatio),y:Math.round((b.clientY-d.y)/this.zoomRatio)}:{x:Math.round(b.clientX-d.x),y:Math.round(b.clientY-d.y)}},resize:function(){if(this.gameArea&&this.canvasPercentage&&this.canvas){var b=this.canvas.width/this.canvas.height,
d=window.innerWidth,a=window.innerHeight;d/a>b?(d=a*b,this.gameArea.style.height=Math.round(a)+"px",this.gameArea.style.width=d+"px"):(a=Math.round(d/b),this.gameArea.style.width=d+"px",this.gameArea.style.height=a+"px");this.zoomRatio=d/this.canvas.width*this.canvasPercentage;this.canvas.style.width=Math.floor(100*this.canvasPercentage)+"%";this.canvas.style.height=Math.floor(100*this.canvasPercentage)+"%"}}})})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel",
"./has"],function(b,d,h){function g(a,b,e,d,g){if(d=b.match(/(.*):(.*)/))return b=d[2],d=d[1],f.selector(d,b).call(g,a,e);h("touch")&&(n.test(b)&&(e=r(e)),!h("event-orientationchange")&&"orientationchange"==b&&(b="resize",a=window,e=r(e)));l&&(e=l(e));if(a.addEventListener){var i=b in c,m=i?c[b]:b;a.addEventListener(m,e,i);return{remove:function(){a.removeEventListener(m,e,i)}}}if(C&&a.attachEvent)return C(a,"on"+b,e);throw Error("Target must be an event emitter");}function i(){this.cancelable=!1}
function j(){this.bubbles=!1}var k=window.ScriptEngineMajorVersion;h.add("jscript",k&&k()+ScriptEngineMinorVersion()/10);h.add("event-orientationchange",h("touch")&&!h("android"));h.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var f=function(a,b,c,e){return"function"==typeof a.on&&"function"!=typeof b?a.on(b,c):f.parse(a,b,c,g,e,this)};f.pausable=function(a,b,c,e){var d,a=f(a,b,function(){if(!d)return c.apply(this,
arguments)},e);a.pause=function(){d=!0};a.resume=function(){d=!1};return a};f.once=function(a,b,c){var e=f(a,b,function(){e.remove();return c.apply(this,arguments)});return e};f.parse=function(a,b,c,e,d,f){if(b.call)return b.call(f,a,c);if(-1<b.indexOf(",")){for(var b=b.split(/\s*,\s*/),g=[],h=0,i;i=b[h++];)g.push(e(a,i,c,d,f));g.remove=function(){for(var a=0;a<g.length;a++)g[a].remove()};return g}return e(a,b,c,d,f)};var n=/^touch/;f.selector=function(a,b,c){return function(e,g){function h(b){for(i=
i&&i.matches?i:d.query;!i.matches(b,a,e);)if(b==e||!1===c||!(b=b.parentNode)||1!=b.nodeType)return;return b}var i="function"==typeof a?{matches:a}:this,l=b.bubble;return l?f(e,l(h),g):f(e,b,function(a){var b=h(a.target);return b&&g.call(b,a)})}};var a=[].slice,m=f.emit=function(b,c,e){var d=a.call(arguments,2),f="on"+c;if("parentNode"in b){var g=d[0]={},h;for(h in e)g[h]=e[h];g.preventDefault=i;g.stopPropagation=j;g.target=b;g.type=c;e=g}do b[f]&&b[f].apply(b,d);while(e&&e.bubbles&&(b=b.parentNode));
return e&&e.cancelable&&e},c={};if(!h("event-stopimmediatepropagation"))var e=function(){this.modified=this.immediatelyStopped=!0},l=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=e,a.apply(this,arguments)}};if(h("dom-addeventlistener"))c={focusin:"focus",focusout:"blur"},f.emit=function(a,b,c){if(a.dispatchEvent&&document.createEvent){var e=a.ownerDocument.createEvent("HTMLEvents");e.initEvent(b,!!c.bubbles,!!c.cancelable);for(var d in c)d in e||(e[d]=c[d]);
return a.dispatchEvent(e)&&e}return m.apply(f,arguments)};else{f._fixEvent=function(a,b){if(!a)a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event;if(!a)return a;s&&a.type==s.type&&(a=s);if(!a.target){a.target=a.srcElement;a.currentTarget=b||a.srcElement;if("mouseover"==a.type)a.relatedTarget=a.fromElement;if("mouseout"==a.type)a.relatedTarget=a.toElement;if(!a.stopPropagation)a.stopPropagation=w,a.preventDefault=T;switch(a.type){case "keypress":var c="charCode"in a?a.charCode:a.keyCode;
10==c?(c=0,a.keyCode=13):13==c||27==c?c=0:3==c&&(c=99);a.charCode=c;c=a;c.keyChar=c.charCode?String.fromCharCode(c.charCode):"";c.charOrCode=c.keyChar||c.keyCode}}return a};var s,v=function(a){this.handle=a};v.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var o=function(a){return function(b){var b=f._fixEvent(b,this),c=a.call(this,b);b.modified&&(s||setTimeout(function(){s=null}),s=b);return c}},C=function(a,c,e){e=o(e);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||
a.window||window)!=top||5.8>h("jscript"))&&!h("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var d=a[c];if(!d||!d.listeners){var f=d,d=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");d.listeners=[];a[c]=d;d.global=this;f&&d.listeners.push(_dojoIEListeners_.push(f)-1)}d.listeners.push(a=d.global._dojoIEListeners_.push(e)-
1);return new v(a)}return b.after(a,c,e,!0)},w=function(){this.cancelBubble=!0},T=f._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1}}if(h("touch"))var t=function(){},q=window.orientation,r=function(a){return function(b){var c=b.corrected;if(!c){var e=b.type;try{delete b.type}catch(d){}b.type?(t.prototype=b,c=new t,c.preventDefault=function(){b.preventDefault()},c.stopPropagation=function(){b.stopPropagation()}):
(c=b,c.type=e);b.corrected=c;if("resize"==e){if(q==window.orientation)return null;q=window.orientation;c.type="orientationchange";return a.call(this,c)}if(!("rotation"in c))c.rotation=0,c.scale=1;var e=c.changedTouches[0],f;for(f in e)delete c[f],c[f]=e[f]}return a.call(this,c)}};return f})},"dojo/dom-geometry":function(){define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(b,d,h,g){function i(a,b,c,e,d,f){f=f||"px";a=a.style;if(!isNaN(b))a.left=b+f;if(!isNaN(c))a.top=
c+f;if(0<=e)a.width=e+f;if(0<=d)a.height=d+f}function j(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function k(a){return"border-box"==f.boxModel||"table"==a.tagName.toLowerCase()||j(a)}var f={boxModel:"content-box"};if(b("ie"))f.boxModel="BackCompat"==document.compatMode?"border-box":"content-box";f.getPadExtents=function(a,b){var a=h.byId(a),c=b||g.getComputedStyle(a),e=g.toPixelValue,d=e(a,c.paddingLeft),f=e(a,
c.paddingTop),i=e(a,c.paddingRight),c=e(a,c.paddingBottom);return{l:d,t:f,r:i,b:c,w:d+i,h:f+c}};f.getBorderExtents=function(a,b){var a=h.byId(a),c=g.toPixelValue,e=b||g.getComputedStyle(a),d="none"!=e.borderLeftStyle?c(a,e.borderLeftWidth):0,f="none"!=e.borderTopStyle?c(a,e.borderTopWidth):0,i="none"!=e.borderRightStyle?c(a,e.borderRightWidth):0,c="none"!=e.borderBottomStyle?c(a,e.borderBottomWidth):0;return{l:d,t:f,r:i,b:c,w:d+i,h:f+c}};f.getPadBorderExtents=function(a,b){var a=h.byId(a),c=b||g.getComputedStyle(a),
e=f.getPadExtents(a,c),c=f.getBorderExtents(a,c);return{l:e.l+c.l,t:e.t+c.t,r:e.r+c.r,b:e.b+c.b,w:e.w+c.w,h:e.h+c.h}};f.getMarginExtents=function(a,b){var a=h.byId(a),c=b||g.getComputedStyle(a),e=g.toPixelValue,d=e(a,c.marginLeft),f=e(a,c.marginTop),i=e(a,c.marginRight),c=e(a,c.marginBottom);return{l:d,t:f,r:i,b:c,w:d+i,h:f+c}};f.getMarginBox=function(a,d){var a=h.byId(a),c=d||g.getComputedStyle(a),e=f.getMarginExtents(a,c),i=a.offsetLeft-e.l,k=a.offsetTop-e.t,j=a.parentNode,o=g.toPixelValue;if(b("mozilla")){var n=
parseFloat(c.left),c=parseFloat(c.top);!isNaN(n)&&!isNaN(c)?(i=n,k=c):j&&j.style&&(j=g.getComputedStyle(j),"visible"!=j.overflow&&(i+="none"!=j.borderLeftStyle?o(a,j.borderLeftWidth):0,k+="none"!=j.borderTopStyle?o(a,j.borderTopWidth):0))}else if((b("opera")||8==b("ie")&&!b("quirks"))&&j)j=g.getComputedStyle(j),i-="none"!=j.borderLeftStyle?o(a,j.borderLeftWidth):0,k-="none"!=j.borderTopStyle?o(a,j.borderTopWidth):0;return{l:i,t:k,w:a.offsetWidth+e.w,h:a.offsetHeight+e.h}};f.getContentBox=function(a,
d){var a=h.byId(a),c=d||g.getComputedStyle(a),e=a.clientWidth,i=f.getPadExtents(a,c),j=f.getBorderExtents(a,c);e?(c=a.clientHeight,j.w=j.h=0):(e=a.offsetWidth,c=a.offsetHeight);b("opera")&&(i.l+=j.l,i.t+=j.t);return{l:i.l,t:i.t,w:e-i.w-j.w,h:c-i.h-j.h}};f.setContentSize=function(a,b,c){var a=h.byId(a),e=b.w,b=b.h;k(a)&&(c=f.getPadBorderExtents(a,c),0<=e&&(e+=c.w),0<=b&&(b+=c.h));i(a,NaN,NaN,e,b)};var n={l:0,t:0,w:0,h:0};f.setMarginBox=function(a,d,c){var a=h.byId(a),e=c||g.getComputedStyle(a),c=d.w,
l=d.h,s=k(a)?n:f.getPadBorderExtents(a,e),e=f.getMarginExtents(a,e);if(b("webkit")&&j(a)){var v=a.style;if(0<=c&&!v.width)v.width="4px";if(0<=l&&!v.height)v.height="4px"}0<=c&&(c=Math.max(c-s.w-e.w,0));0<=l&&(l=Math.max(l-s.h-e.h,0));i(a,d.l,d.t,c,l)};f.isBodyLtr=function(a){a=a||d.doc;return"ltr"==(d.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};f.docScroll=function(a){var a=a||d.doc,g=d.doc.parentWindow||d.doc.defaultView;return"pageXOffset"in g?{x:g.pageXOffset,y:g.pageYOffset}:(g=
b("quirks")?d.body(a):a.documentElement)&&{x:f.fixIeBiDiScrollLeft(g.scrollLeft||0,a),y:g.scrollTop||0}};if(b("ie"))f.getIeDocumentElementOffset=function(a){a=a||d.doc;a=a.documentElement;if(8>b("ie")){var f=a.getBoundingClientRect(),c=f.left,f=f.top;7>b("ie")&&(c+=a.clientLeft,f+=a.clientTop);return{x:0>c?0:c,y:0>f?0:f}}return{x:0,y:0}};f.fixIeBiDiScrollLeft=function(a,g){var g=g||d.doc,c=b("ie");if(c&&!f.isBodyLtr(g)){var e=b("quirks"),h=e?d.body(g):g.documentElement,i=d.global;6==c&&!e&&i.frameElement&&
h.scrollHeight>h.clientHeight&&(a+=h.clientLeft);return 8>c||e?a+h.clientWidth-h.scrollWidth:-a}return a};f.position=function(a,g){var a=h.byId(a),c=d.body(a.ownerDocument),e=a.getBoundingClientRect(),e={x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-e.top};if(9>b("ie")){var i=f.getIeDocumentElementOffset(a.ownerDocument);e.x-=i.x+(b("quirks")?c.clientLeft+c.offsetLeft:0);e.y-=i.y+(b("quirks")?c.clientTop+c.offsetTop:0)}g&&(c=f.docScroll(a.ownerDocument),e.x+=c.x,e.y+=c.y);return e};f.getMarginSize=
function(a,b){var a=h.byId(a),c=f.getMarginExtents(a,b||g.getComputedStyle(a)),e=a.getBoundingClientRect();return{w:e.right-e.left+c.w,h:e.bottom-e.top+c.h}};f.normalizeEvent=function(a){if(!("layerX"in a))a.layerX=a.offsetX,a.layerY=a.offsetY;if(!b("dom-addeventlistener")){var d=a.target,d=d&&d.ownerDocument||document,c=b("quirks")?d.body:d.documentElement,e=f.getIeDocumentElementOffset(d);a.pageX=a.clientX+f.fixIeBiDiScrollLeft(c.scrollLeft||0,d)-e.x;a.pageY=a.clientY+(c.scrollTop||0)-e.y}};return f})},
"dojo/dom-style":function(){define(["./sniff","./dom"],function(b,d){function h(c,e,d){e=e.toLowerCase();if(b("ie")){if("auto"==d){if("height"==e)return c.offsetHeight;if("width"==e)return c.offsetWidth}if("fontweight"==e)switch(d){case 700:return"bold";default:return"normal"}}e in a||(a[e]=m.test(e));return a[e]?j(c,d):d}var g,i={};g=b("webkit")?function(a){var b;if(1==a.nodeType){var c=a.ownerDocument.defaultView;b=c.getComputedStyle(a,null);if(!b&&a.style)a.style.display="",b=c.getComputedStyle(a,
null)}return b||{}}:b("ie")&&(9>b("ie")||b("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};i.getComputedStyle=g;var j;j=b("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var c=a.style,e=a.runtimeStyle,d=c.left,f=e.left;e.left=a.currentStyle.left;try{c.left=b,b=c.pixelLeft}catch(g){b=0}c.left=d;e.left=f;return b}:function(a,
b){return parseFloat(b)||0};i.toPixelValue=j;var k=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return b?{}:null}},f=9>b("ie")||10>b("ie")&&b("quirks")?function(a){try{return k(a).Opacity/100}catch(b){return 1}}:function(a){return g(a).opacity},n=9>b("ie")||10>b("ie")&&b("quirks")?function(a,b){var c=100*b,e=1==b;a.style.zoom=e?"":1;if(k(a))k(a,1).Opacity=c;else{if(e)return b;a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+c+")"}k(a,1).Enabled=
!e;if("tr"==a.tagName.toLowerCase())for(c=a.firstChild;c;c=c.nextSibling)"td"==c.tagName.toLowerCase()&&n(c,b);return b}:function(a,b){return a.style.opacity=b},a={left:!0,top:!0},m=/margin|padding|width|height|max|min|offset/,c=b("ie")?"styleFloat":"cssFloat",e={cssFloat:c,styleFloat:c,"float":c};i.get=function(a,b){var c=d.byId(a),g=arguments.length;if(2==g&&"opacity"==b)return f(c);var b=e[b]||b,j=i.getComputedStyle(c);return 1==g?j:h(c,b,j[b]||c.style[b])};i.set=function(a,b,c){var f=d.byId(a),
g=arguments.length,h="opacity"==b,b=e[b]||b;if(3==g)return h?n(f,c):f.style[b]=c;for(var j in b)i.set(a,j,b[j]);return i.getComputedStyle(f)};return i})},"dojo/domReady":function(){define(["./has"],function(b){function d(a){k?a(g):f.push(a)}var h=this,g=document,i={loaded:1,complete:1},j="string"!=typeof g.readyState,k=!!i[g.readyState];if(j)g.readyState="loading";if(!k){var f=[],n=[],a=function(a){a=a||h.event;if(!(k||"readystatechange"==a.type&&!i[g.readyState])){k=1;if(j)g.readyState="complete";
for(;f.length;)f.shift()(g)}},m=function(b,c){b.addEventListener(c,a,!1);f.push(function(){b.removeEventListener(c,a,!1)})};if(!b("dom-addeventlistener")){var m=function(b,c){c="on"+c;b.attachEvent(c,a);f.push(function(){b.detachEvent(c,a)})},c=g.createElement("div");try{c.doScroll&&null===h.frameElement&&n.push(function(){try{return c.doScroll("left"),1}catch(a){}})}catch(e){}}m(g,"DOMContentLoaded");m(h,"load");"onreadystatechange"in g?m(g,"readystatechange"):j||n.push(function(){return i[g.readyState]});
if(n.length){var l=function(){if(!k){for(var b=n.length;b--;)if(n[b]()){a("poller");return}setTimeout(l,30)}};l()}}d.load=function(a,b,c){d(c)};return d})},"frozen/ResourceManager":function(){define(["dcl","dcl/bases/Mixer","./shims/AudioContext"],function(b,d){function h(b,d){var g=d;b&&(g=[b,d].join("/"));return g.replace(/\/{2,}/g,"/")}var g=null;window.AudioContext&&(g=new window.AudioContext);return b(d,{imageCount:0,loadedImages:0,allLoaded:!1,imageDir:null,soundDir:null,audioContext:g,resourceList:{},
loadImage:function(b){b=h(this.imageDir,b);if(this.resourceList[b])return this.resourceList[b].img;this.allLoaded=!1;var d=new Image,g={name:b,img:d,complete:!1};d.onload=function(){g.complete=!0};d.src=b;this.resourceList[b]=g;return d},loadSound:function(b){var b=h(this.soundDir,b),d={name:b,buffer:null,complete:!1};if(this.audioContext){if(this.resourceList[b])return this.resourceList[b];this.resourceList[b]=d;var g=new XMLHttpRequest;g.open("GET",b,!0);g.responseType="arraybuffer";var f=this.audioContext;
g.onload=function(){f.decodeAudioData(g.response,function(b){d.buffer=b;d.complete=!0},function(){})};g.send()}return d},playSound:function(b,d,g,f){g=g||0;if(this.audioContext&&b&&(b=b.buffer||b))try{var h=this.audioContext.createBufferSource();h.buffer=b;if(d)h.loop=!0;if(f){var a=this.audioContext.createGainNode();a.gain.value=f;h.connect(a);a.connect(this.audioContext.destination)}else h.connect(this.audioContext.destination);h.noteOn(g);return h}catch(m){}},resourcesReady:function(){if(!this.allLoaded){for(var b in this.resourceList)if(!this.resourceList[b].complete)return!1;
this.allLoaded=!0}return!0},getPercentComplete:function(){var b=0,d=0,g;for(g in this.resourceList){var f=this.resourceList[g];d++;f.complete&&(b+=1)}return 0===d?0:Math.round(100*(b/d))}})})},"frozen/shims/AudioContext":function(){define(function(){for(var b=["ms","moz","webkit","o"],d=0;d<b.length&&!window.AudioContext;++d)window.AudioContext=window[b[d]+"AudioContext"]})},"frozen/shims/RAF":function(){define(function(){for(var b=0,d=["ms","moz","webkit","o"],h=0;h<d.length&&!window.requestAnimationFrame;++h)window.requestAnimationFrame=
window[d[h]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[d[h]+"CancelAnimationFrame"]||window[d[h]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame)window.requestAnimationFrame=function(d){var h=(new Date).getTime(),j=Math.max(0,16-(h-b)),k=window.setTimeout(function(){d(h+j)},j);b=h+j;return k};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(b){clearTimeout(b)}})},"dojo/keys":function(){define("dojo/keys",["./_base/kernel","./sniff"],function(b,
d){return b.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:d("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,
NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:d("mac")&&!d("air")?d("safari")?91:224:17}})}}});(function(){require({cache:{}});require.boot&&require.apply(null,require.boot)})();